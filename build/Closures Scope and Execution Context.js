"use strict";

var cov_pbvsqdyph = function () {
  var path = "/Users/derese/Documents/webprojects/study/javaScriptTheHardParts/src/Closures Scope and Execution Context.js",
      hash = "88720793528a668eb54d3e5dde1e7e74a0a60579",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/derese/Documents/webprojects/study/javaScriptTheHardParts/src/Closures Scope and Execution Context.js",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 4
        },
        end: {
          line: 2,
          column: 25
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 7,
          column: 42
        }
      },
      "2": {
        start: {
          line: 7,
          column: 22
        },
        end: {
          line: 7,
          column: 40
        }
      },
      "3": {
        start: {
          line: 12,
          column: 18
        },
        end: {
          line: 12,
          column: 19
        }
      },
      "4": {
        start: {
          line: 15,
          column: 6
        },
        end: {
          line: 15,
          column: 17
        }
      },
      "5": {
        start: {
          line: 16,
          column: 6
        },
        end: {
          line: 16,
          column: 27
        }
      },
      "6": {
        start: {
          line: 18,
          column: 4
        },
        end: {
          line: 18,
          column: 28
        }
      },
      "7": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 23,
          column: 41
        }
      },
      "8": {
        start: {
          line: 23,
          column: 23
        },
        end: {
          line: 23,
          column: 39
        }
      },
      "9": {
        start: {
          line: 27,
          column: 18
        },
        end: {
          line: 27,
          column: 19
        }
      },
      "10": {
        start: {
          line: 28,
          column: 18
        },
        end: {
          line: 28,
          column: 19
        }
      },
      "11": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 39,
          column: 6
        }
      },
      "12": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 37,
          column: 26
        }
      },
      "13": {
        start: {
          line: 32,
          column: 12
        },
        end: {
          line: 32,
          column: 31
        }
      },
      "14": {
        start: {
          line: 33,
          column: 12
        },
        end: {
          line: 33,
          column: 22
        }
      },
      "15": {
        start: {
          line: 34,
          column: 12
        },
        end: {
          line: 34,
          column: 26
        }
      },
      "16": {
        start: {
          line: 37,
          column: 12
        },
        end: {
          line: 37,
          column: 26
        }
      },
      "17": {
        start: {
          line: 43,
          column: 4
        },
        end: {
          line: 49,
          column: 6
        }
      },
      "18": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 35
        }
      },
      "19": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 48,
          column: 26
        }
      },
      "20": {
        start: {
          line: 46,
          column: 12
        },
        end: {
          line: 46,
          column: 26
        }
      },
      "21": {
        start: {
          line: 48,
          column: 12
        },
        end: {
          line: 48,
          column: 26
        }
      },
      "22": {
        start: {
          line: 54,
          column: 14
        },
        end: {
          line: 54,
          column: 18
        }
      },
      "23": {
        start: {
          line: 55,
          column: 4
        },
        end: {
          line: 57,
          column: 5
        }
      },
      "24": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 56,
          column: 50
        }
      },
      "25": {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 58,
          column: 33
        }
      },
      "26": {
        start: {
          line: 58,
          column: 19
        },
        end: {
          line: 58,
          column: 26
        }
      }
    },
    fnMap: {
      "0": {
        name: "createFunction",
        decl: {
          start: {
            line: 1,
            column: 16
          },
          end: {
            line: 1,
            column: 30
          }
        },
        loc: {
          start: {
            line: 1,
            column: 32
          },
          end: {
            line: 4,
            column: 1
          }
        },
        line: 1
      },
      "1": {
        name: "createFunctionPrinter",
        decl: {
          start: {
            line: 6,
            column: 16
          },
          end: {
            line: 6,
            column: 37
          }
        },
        loc: {
          start: {
            line: 6,
            column: 44
          },
          end: {
            line: 8,
            column: 1
          }
        },
        line: 6
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 7,
            column: 11
          },
          end: {
            line: 7,
            column: 12
          }
        },
        loc: {
          start: {
            line: 7,
            column: 21
          },
          end: {
            line: 7,
            column: 41
          }
        },
        line: 7
      },
      "3": {
        name: "outer",
        decl: {
          start: {
            line: 11,
            column: 16
          },
          end: {
            line: 11,
            column: 21
          }
        },
        loc: {
          start: {
            line: 11,
            column: 23
          },
          end: {
            line: 19,
            column: 3
          }
        },
        line: 11
      },
      "4": {
        name: "incrementCounter",
        decl: {
          start: {
            line: 14,
            column: 13
          },
          end: {
            line: 14,
            column: 29
          }
        },
        loc: {
          start: {
            line: 14,
            column: 33
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 14
      },
      "5": {
        name: "addByX",
        decl: {
          start: {
            line: 22,
            column: 16
          },
          end: {
            line: 22,
            column: 22
          }
        },
        loc: {
          start: {
            line: 22,
            column: 25
          },
          end: {
            line: 24,
            column: 1
          }
        },
        line: 22
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 23,
            column: 11
          },
          end: {
            line: 23,
            column: 12
          }
        },
        loc: {
          start: {
            line: 23,
            column: 22
          },
          end: {
            line: 23,
            column: 40
          }
        },
        line: 23
      },
      "7": {
        name: "once",
        decl: {
          start: {
            line: 26,
            column: 16
          },
          end: {
            line: 26,
            column: 20
          }
        },
        loc: {
          start: {
            line: 26,
            column: 24
          },
          end: {
            line: 40,
            column: 1
          }
        },
        line: 26
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 30,
            column: 11
          },
          end: {
            line: 30,
            column: 12
          }
        },
        loc: {
          start: {
            line: 30,
            column: 22
          },
          end: {
            line: 39,
            column: 5
          }
        },
        line: 30
      },
      "9": {
        name: "after",
        decl: {
          start: {
            line: 42,
            column: 16
          },
          end: {
            line: 42,
            column: 21
          }
        },
        loc: {
          start: {
            line: 42,
            column: 33
          },
          end: {
            line: 50,
            column: 1
          }
        },
        line: 42
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 43,
            column: 11
          },
          end: {
            line: 43,
            column: 12
          }
        },
        loc: {
          start: {
            line: 43,
            column: 17
          },
          end: {
            line: 49,
            column: 5
          }
        },
        line: 43
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 48,
            column: 19
          },
          end: {
            line: 48,
            column: 20
          }
        },
        loc: {
          start: {
            line: 48,
            column: 23
          },
          end: {
            line: 48,
            column: 25
          }
        },
        line: 48
      },
      "12": {
        name: "delay",
        decl: {
          start: {
            line: 53,
            column: 16
          },
          end: {
            line: 53,
            column: 21
          }
        },
        loc: {
          start: {
            line: 53,
            column: 32
          },
          end: {
            line: 59,
            column: 1
          }
        },
        line: 53
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 58,
            column: 15
          },
          end: {
            line: 58,
            column: 16
          }
        },
        loc: {
          start: {
            line: 58,
            column: 19
          },
          end: {
            line: 58,
            column: 26
          }
        },
        line: 58
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 37,
            column: 26
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 37,
            column: 26
          }
        }, {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 37,
            column: 26
          }
        }],
        line: 31
      },
      "1": {
        loc: {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 44,
            column: 34
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 44,
            column: 20
          },
          end: {
            line: 44,
            column: 27
          }
        }, {
          start: {
            line: 44,
            column: 30
          },
          end: {
            line: 44,
            column: 34
          }
        }],
        line: 44
      },
      "2": {
        loc: {
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 48,
            column: 26
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 48,
            column: 26
          }
        }, {
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 48,
            column: 26
          }
        }],
        line: 45
      },
      "3": {
        loc: {
          start: {
            line: 55,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 55,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        }, {
          start: {
            line: 55,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        }],
        line: 55
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    _coverageSchema: "d34fc3e6b8297bcde183f5492bcb8fcb36775295"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createFunction = createFunction;
exports.createFunctionPrinter = createFunctionPrinter;
exports.outer = outer;
exports.addByX = addByX;
exports.once = once;
exports.after = after;
exports.delay = delay;

function createFunction() {
  cov_pbvsqdyph.f[0]++;
  cov_pbvsqdyph.s[0]++;
  console.log("hello"); //return () => { return "hello"};
}

function createFunctionPrinter(input) {
  cov_pbvsqdyph.f[1]++;
  cov_pbvsqdyph.s[1]++;
  return function () {
    cov_pbvsqdyph.f[2]++;
    cov_pbvsqdyph.s[2]++;
    console.log(input);
  };
}

function outer() {
  cov_pbvsqdyph.f[3]++;
  var counter = (cov_pbvsqdyph.s[3]++, 0); // this variable is outside incrementCounter's scope

  function incrementCounter() {
    cov_pbvsqdyph.f[4]++;
    cov_pbvsqdyph.s[4]++;
    counter++;
    cov_pbvsqdyph.s[5]++;
    console.log(counter);
  }

  cov_pbvsqdyph.s[6]++;
  return incrementCounter;
}

function addByX(x) {
  cov_pbvsqdyph.f[5]++;
  cov_pbvsqdyph.s[7]++;
  return function (input) {
    cov_pbvsqdyph.f[6]++;
    cov_pbvsqdyph.s[8]++;
    return input + x;
  };
}

function once(cb) {
  cov_pbvsqdyph.f[7]++;
  var counter = (cov_pbvsqdyph.s[9]++, 1);
  var output = (cov_pbvsqdyph.s[10]++, 0);
  cov_pbvsqdyph.s[11]++;
  return function (input) {
    cov_pbvsqdyph.f[8]++;
    cov_pbvsqdyph.s[12]++;

    if (counter == 1) {
      cov_pbvsqdyph.b[0][0]++;
      cov_pbvsqdyph.s[13]++;
      output = cb(input);
      cov_pbvsqdyph.s[14]++;
      counter++;
      cov_pbvsqdyph.s[15]++;
      return output;
    } else {
      cov_pbvsqdyph.b[0][1]++;
      cov_pbvsqdyph.s[16]++;
      return output;
    }
  };
}

function after(count, func) {
  cov_pbvsqdyph.f[9]++;
  cov_pbvsqdyph.s[17]++;
  return function () {
    cov_pbvsqdyph.f[10]++;
    cov_pbvsqdyph.s[18]++;
    count > 0 ? (cov_pbvsqdyph.b[1][0]++, count--) : (cov_pbvsqdyph.b[1][1]++, null);
    cov_pbvsqdyph.s[19]++;

    if (count == 0) {
      cov_pbvsqdyph.b[2][0]++;
      cov_pbvsqdyph.s[20]++;
      return func();
    } else {
      cov_pbvsqdyph.b[2][1]++;
      cov_pbvsqdyph.s[21]++;
      return function () {
        cov_pbvsqdyph.f[11]++;
      };
    }
  };
}

function delay(func, wait) {
  cov_pbvsqdyph.f[12]++;
  var arg = (cov_pbvsqdyph.s[22]++, null);
  cov_pbvsqdyph.s[23]++;

  if (arguments.length > 2) {
    cov_pbvsqdyph.b[3][0]++;
    cov_pbvsqdyph.s[24]++;
    arg = arguments.slice(1, arguemnts.length);
  } else {
    cov_pbvsqdyph.b[3][1]++;
  }

  cov_pbvsqdyph.s[25]++;
  setTimeout(function () {
    cov_pbvsqdyph.f[13]++;
    cov_pbvsqdyph.s[26]++;
    return fn(arg);
  }, wait);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9DbG9zdXJlcyBTY29wZSBhbmQgRXhlY3V0aW9uIENvbnRleHQuanMiXSwibmFtZXMiOlsiY3JlYXRlRnVuY3Rpb24iLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlRnVuY3Rpb25QcmludGVyIiwiaW5wdXQiLCJvdXRlciIsImNvdW50ZXIiLCJpbmNyZW1lbnRDb3VudGVyIiwiYWRkQnlYIiwieCIsIm9uY2UiLCJjYiIsIm91dHB1dCIsImFmdGVyIiwiY291bnQiLCJmdW5jIiwiZGVsYXkiLCJ3YWl0IiwiYXJnIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic2xpY2UiLCJhcmd1ZW1udHMiLCJzZXRUaW1lb3V0IiwiZm4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uKCl7XG4gICAgY29uc29sZS5sb2coXCJoZWxsb1wiKTtcbiAgICAvL3JldHVybiAoKSA9PiB7IHJldHVybiBcImhlbGxvXCJ9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25QcmludGVyKGlucHV0KXtcbiAgICByZXR1cm4gZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhpbnB1dCl9O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBvdXRlcigpe1xuICAgIHZhciBjb3VudGVyID0gMDsgLy8gdGhpcyB2YXJpYWJsZSBpcyBvdXRzaWRlIGluY3JlbWVudENvdW50ZXIncyBzY29wZVxuXG4gICAgZnVuY3Rpb24gaW5jcmVtZW50Q291bnRlciAoKSB7XG4gICAgICBjb3VudGVyICsrO1xuICAgICAgY29uc29sZS5sb2coY291bnRlcik7XG4gICAgfVxuICAgIHJldHVybiBpbmNyZW1lbnRDb3VudGVyO1xuICB9XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEJ5WCh4KXtcbiAgICByZXR1cm4gKGlucHV0KSA9PiB7cmV0dXJuIGlucHV0ICsgeH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbmNlKGNiKXtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgbGV0IG91dHB1dCAgPSAwO1xuXG4gICAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgICAgICBpZihjb3VudGVyID09IDEpe1xuICAgICAgICAgICAgb3V0cHV0ID0gY2IoaW5wdXQpO1xuICAgICAgICAgICAgY291bnRlcisrO1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyKGNvdW50LGZ1bmMpe1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvdW50ID4gMCA/IGNvdW50LS0gOiBudWxsO1xuICAgICAgICBpZihjb3VudCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuICgpPT57fTtcbiAgICB9O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxheShmdW5jLHdhaXQpe1xuICAgIGxldCBhcmcgPSBudWxsO1xuICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPiAyKXtcbiAgICAgICAgYXJnID0gYXJndW1lbnRzLnNsaWNlKDEsYXJndWVtbnRzLmxlbmd0aCk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQoKCk9PmZuKGFyZyksd2FpdCk7XG59XG4iXX0=